:root {
  --workouts-max-width: 1700px;
}

.workouts-page {
  padding: 28px 20px;
  max-width: var(--workouts-max-width);
  margin: 0 auto 48px auto;
  box-sizing: border-box;
}

.workouts-hero {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
  margin-bottom: 20px;
}
.hero-left h1 {
  font-size: 36px;
  margin: 0 0 6px 0;
  background: linear-gradient(90deg,var(--primary-green),var(--secondary-blue));
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}
.hero-sub { 
  margin: 0; 
  color: var(--text-medium); 
  padding: 20px 0 20px 0;
  max-width: calc(var(--workouts-max-width) / 3.5);
}

.hero-right { 
  display: flex; 
  flex-direction: row;  
  align-items: flex-end; 
  justify-content: space-between;

}
.ai-save-row { 
  display: flex; 
  flex-flow: row wrap; 
  align-items: center; 
  gap: 4px; 
  margin-top: 8px; 
  max-width: calc(var(--workouts-max-width) / 3);
}
.ai-save-btn { align-self:flex-start; }

.ai-save-hint { 
  font-size: 12px; 
  color: var(--text-medium); 
  max-width: 420px; 
}

.search-wrap { 
  width: 420px; 
  max-width: 48vw; 
  min-width: 0; 
  align-self: stretch; 
}
.search-input {
  /* Default to the same visual width as .search-wrap when used standalone */
  width: 420px;
  max-width: 48vw;
  min-width: 0;
  box-sizing: border-box;
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid var(--border-light);
  box-shadow: 0 6px 20px rgba(2,6,23,0.04);
  font-size: 14px;
}
.search-wrap .search-input { 
  width: 100%; 
  max-width: 100%; 
}

@media (max-width: 1024px) {
  .search-wrap { 
    width: 100%; 
    max-width: 100%; 
  }
}

.filters-row { 
  display: flex; 
  align-items: center; 
  row-gap: 12px; 
  column-gap: 0.1%; /*No idea why this puts it on a separate line*/
  justify-content: flex-end; 
  flex-wrap: wrap; 
}
.filters { 
  display: flex; 
  gap: 8px; 
}

.filter-btn { 
  padding: 8px 12px; 
  border-radius: 999px; 
  background: transparent; 
  border: 1px solid var(--border-light); 
  color: var(--text-medium); 
  cursor: pointer; 
}

.filter-btn.active { 
  background: linear-gradient(90deg,var(--primary-green), var(--secondary-blue)); 
  color: #ffffff; 
  box-shadow: 0 8px 30px rgba(30,203,123,0.08); 
}

.sort-control {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: rgba(0,0,0,0.03);
  padding: 8px 10px;
  border-radius: 12px;
  border: 1px solid var(--border-light);
}
.sort-control label { 
  font-size: 13px; 
  font-weight: 700; 
  color: var(--text-medium); 
}

.sort-control select {
  border: none;
  background: transparent;
  font-weight: 700;
  color: var(--text-dark);
  cursor: pointer;
}
body.theme-dark .sort-control {
  background: rgba(255,255,255,0.04);
  border-color: #1f2a36;
}
body.theme-dark .sort-control label { color: rgba(233,238,245,0.85); }
body.theme-dark .sort-control select { color: #e9eef5; }

.page-with-dots {
  position: relative;
  overflow: hidden;
  min-height: 100vh;
}

.page-with-dots > .workouts-page, .page-with-dots > .saved-library-page {
  position: relative;
  z-index: 1;
}

.workouts-grid { 
  display: grid; 
  grid-template-columns: repeat(3, 1fr); 
  gap: 18px; 
  margin-top: 18px; 
}

.empty { 
  padding: 32px; 
  text-align: center; 
  color: var(--text-medium); 
  grid-column: 1/-1; 
}

.workout-card { 
  background: var(--calendar-surface); 
  border-radius: 14px; 
  overflow: hidden; 
  display: flex; 
  flex-direction: column; 
  border: 1px solid var(--border-light); 
  box-shadow: 0 8px 36px rgba(2,6,23,0.06); 
  transition: transform .18s ease, box-shadow .18s ease; 
}
.workout-card:hover { 
  transform: translateY(-8px); 
  box-shadow: 0 24px 80px rgba(2,6,23,0.12); 
}
.card-media { 
  position: relative; 
  height: 140px; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  background: linear-gradient(135deg, rgba(0,0,0,0.03), rgba(255,255,255,0.02)); 
}
.card-media img { 
  width: 100%; 
  height: 100%; 
  object-fit: cover; 
  display: block; 
}
.media-fallback { 
  width: 100%; 
  height: 100%; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  font-size: 48px; 
  color: var(--text-medium); 
}
.featured-pill { 
  position: absolute; 
  left: 12px; 
  top: 12px; 
  background: linear-gradient(90deg,#ffd969,#ff9f1c); 
  color: #472b00; 
  padding: 6px 8px; 
  border-radius: 10px; 
  font-weight: 700; 
  font-size: 12px; 
}

.card-body { 
  padding: 12px 14px; 
  display: flex; 
  flex-direction: column; 
  gap: 8px; 
}
.card-title { 
  margin: 0; 
  font-size: 18px; 
}
.card-meta { 
  display: flex; 
  gap: 12px; 
  align-items: center; 
  font-size: 13px; 
}
.difficulty { 
  padding: 6px 8px; 
  border-radius: 8px; 
  font-weight: 700; 
  font-size: 12px; 
}
.difficulty.easy { 
  background: linear-gradient(90deg,#2ecc71,#27ae60); 
  color: #022; 
}
.difficulty.medium { 
  background: linear-gradient(90deg,#ffd166,#ffb347); 
  color: #3b1b00; 
}
.difficulty.intermediate { 
  background: linear-gradient(90deg,#2ecc71,#27ae60); 
  color: #022; 
}
.difficulty.hard { 
  background: linear-gradient(90deg,#ff6b6b,#ee5252); 
  color: #fff; 
}
.duration { 
  color:var(--text-medium); 
  font-size:13px; 
}
.category {
  --cat-accent: #999;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 10px;
  font-weight: 700;
  font-size: 12px;
  text-transform: capitalize;
  background: rgba(0,0,0,0.04);
  color: var(--text-dark);
}
.category::before {
  content: '';
  width: 8px;
  height: 18px;
  border-radius: 4px;
  display: inline-block;
  background: var(--cat-accent);
}
/* Category color variants (use classes matching sanitized category names) */
.category.strength { 
  --cat-accent: #ff6b6b; 
  background: linear-gradient(90deg,#fff3f4,#ffecec); 
  color: #5c1111;
}
.category.cardio { 
  --cat-accent: #26c6da; 
  background: linear-gradient(90deg,#e8fbff,#dcf7fb); 
  color: #0a4c59; 
}
.category.plyometrics { 
  --cat-accent: #ff8a00; 
  background: linear-gradient(90deg,#fff5e8,#ffeeda); 
  color:#5c2d00; 
}
.category.powerlifting { 
  --cat-accent: #11c58f; 
  background: linear-gradient(90deg,#e8fbf5,#dcf7ee); 
  color: #0b3d2f; 
}
.category.olympic,.category.olympic-weightlifting { 
  --cat-accent: #f5c400; 
  background: linear-gradient(90deg,#fff8e1,#fff2c2); 
  color: #4d3a00;
}
.category.stretching, .category.mobility { 
  --cat-accent: #ffb3d6; 
  background: linear-gradient(90deg,#fff3fa,#ffeaf5); 
  color: #4b1b2f;
}
.category.strongman { 
  --cat-accent: #ff7a18; 
  background: linear-gradient(90deg,#fff2e7,#ffeada); 
  color: #5c2c00; 
}
.category.bodyweight { 
  --cat-accent: #4ecdc4; 
  background: linear-gradient(90deg,#e7fbf8,#dcf6f3); 
  color: #0f4f49; 
}
.category.barbell { 
  --cat-accent: #22303f; 
  background: linear-gradient(90deg,#f4f6f8,#e8edf2); 
  color: #12202b; 
}
.category.dumbbell { 
  --cat-accent: #4ecdc4; 
  background: linear-gradient(90deg,#e7fbf8,#dcf6f3); 
  color: #0f4f49; 
}
.category.kettlebell { 
  --cat-accent: #7c4dff; 
  background: linear-gradient(90deg,#f5f0ff,#ede5ff); 
  color: #2f1c6b; 
}
.category.mobility { 
  --cat-accent: #ffb3d6; 
  background: linear-gradient(90deg,#fff3fa,#ffeaf5); 
  color: #4b1b2f; 
}
.category.uncategorized { 
  --cat-accent: #b0b0b0; 
  background: linear-gradient(90deg,#fbfbfb,#f2f2f2); 
  color: #333; 
}

.card-desc { 
  margin: 0; 
  color: var(--text-medium); 
  font-size: 14px; }

.workouts-grid-footer {
  margin: 18px 0 18px;
  display: flex;
  justify-content: center;
  gap: 10px;
  align-items: center;
}
.load-more-trigger {
  width: 100%;
  height: 1px;
  visibility: hidden;
}
.loading-indicator {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-size: 13px;
  color: var(--text-medium);
  padding: 8px 12px;
}
.loading-indicator .spinner {
  width: 18px;
  height: 18px;
  border: 2px solid rgba(30, 203, 123, 0.25);
  border-top-color: var(--primary-green);
  border-radius: 50%;
  animation: spinner-rotate 0.7s linear infinite;
}
@keyframes spinner-rotate {
  to { transform: rotate(360deg); }
}

/* Muscle badges (non-colored, truncated with ellipsis) */
.muscle-list {
  /* Two-column layout: primary (1fr) | secondary (auto) so secondary stays on same line */
  display: grid;
  grid-template-columns: 1fr auto;
  column-gap: 8px;
  row-gap: 6px;
  margin-top: 8px;
  align-items: center;
}
.muscle-badge {
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 10px;
  border-radius:10px;
  font-weight:700;
  font-size:12px;
  background: rgba(0,0,0,0.04);
  color: var(--text-dark);
  overflow: hidden;
}
.muscle-badge .muscle-text {
  display:inline-block;
  max-width: 180px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.muscle-badge.primary .muscle-text.primary-text {
  /* Primary muscles should not be truncated; allow wrapping */
  max-width: none;
  white-space: normal;
  overflow: visible;
  text-overflow: clip;
}
.muscle-badge.secondary .muscle-text.secondary-text {
  /* Secondary muscles should truncate with an ellipsis */
  max-width: 140px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Ensure muscle names are shown capitalized */
.muscle-text.primary-text,
.muscle-text.secondary-text {
  text-transform: capitalize;
}

/* Layout behavior: primary grows/wraps; secondary will move to next line if primary uses available space */
.muscle-badge.primary strong, .muscle-badge.secondary strong { 
  margin-right:6px; 
  font-weight:800; 
}

/* In modal, allow badges to use available space */
.modal-info .muscle-badge .muscle-text { max-width: 100%; }
.modal-info .muscle-list { grid-template-columns: 1fr; }
.modal-info .muscle-badge .muscle-text {
  white-space: normal;
  overflow: visible;
}

/* Muscle section header */
.muscle-section { 
  display: flex; 
  flex-direction: column; 
  gap: 6px; 
}
.muscle-header { 
  font-size: 12px; 
  color: var(--text-medium); 
  font-weight: 700; 
}

.card-footer { 
  display:  flex; 
  gap: 8px; 
  padding: 12px 14px; 
  border-top: 1px dashed var(--border-light); 
  justify-content: flex-end; 
}

/* Light-mode specific: make the View button very visible on light backgrounds */
.btn-ghost {
  /* Use a solid white surface with a colored outline for maximum contrast */
  background: #ffffff;
  color: var(--primary-green);
  border: 2px solid var(--primary-green);
  box-shadow: 0 8px 28px rgba(30,203,123,0.06);
  padding: 8px 12px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 700;
}
.btn-ghost.danger {
  color: var(--accent-red);
  border-color: var(--accent-red);
}
 .btn-ghost:hover {
  background: linear-gradient(90deg, rgba(30,203,123,0.06), rgba(30,144,203,0.04));
  transform: translateY(-2px);
  color: #072b12;
  box-shadow: 0 18px 48px rgba(30,203,123,0.12);
}
.btn-ghost:focus-visible { 
  outline: none; 
  box-shadow: 0 0 0 4px rgba(30,203,123,0.14); 
}

/* Dark Mode specific (default): changed to no longer be the default*/
body.theme-dark .btn-ghost {
  background: linear-gradient(135deg, var(--color-primary, var(--primary-green)), var(--color-accent, var(--secondary-blue)));
  border: none;
  color: #fff;
  padding: 8px 12px;
  box-shadow: 0 8px 22px rgba(30,203,123,0.12);
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
body.theme-dark .btn-ghost:hover {
  transform: translateY(-3px);
  filter: brightness(1.03);
  box-shadow: 0 18px 40px rgba(30,203,123,0.16);
}
body.theme-dark .btn-ghost.add { background: linear-gradient(135deg,#1ecb7b,#1e90cb); }
body.theme-dark .btn-ghost.danger { background: linear-gradient(135deg,var(--accent-red),var(--accent-red-dark)); }

body.theme-dark .btn-ghost:hover {
  color: black;
}

.btn-link { 
  color: var(--secondary-blue); 
  text-decoration: none; 
  padding: 8px 10px; 
  display: inline-flex; 
  align-items: center; 
}


/* Modal overlay */
.workouts-modal-overlay {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(180deg, rgba(2,6,23,0.44), rgba(2,6,23,0.6));
  z-index: 2200;
  padding: 28px;
  -webkit-backdrop-filter: blur(6px) saturate(1.05);
  backdrop-filter: blur(6px) saturate(1.05);
  animation: modalFadeIn .18s ease-out both;
}

.workouts-modal {
  width: 100%;
  max-width: 1100px;
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(245,250,245,0.96));
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 40px 120px rgba(2,6,23,0.6);
  border: 1px solid rgba(0,0,0,0.06);
  display: grid;
  grid-template-rows: auto 1fr auto;
  transform-origin: center;
  animation: modalPop .22s cubic-bezier(.2,.9,.2,1) both;
}

.modal-head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 22px;
  background: linear-gradient(90deg, var(--primary-green), var(--secondary-blue));
  color: white;
  gap: 12px;
}
.modal-head h2 { 
  margin: 0; 
  font-size: 20px; 
  letter-spacing: -0.2px; 
}
.modal-close {
  background: rgba(255,255,255,0.12);
  border: none;
  color: #fff;
  width: 40px;
  height: 40px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  cursor: pointer;
  transition: transform .14s ease, background .14s ease;
}
.modal-close:hover { 
  transform: scale(1.05); 
  background: rgba(255,255,255,0.18); 
}

.meta-row { 
  display: flex; 
  gap: 10px; 
  margin-top: 6px; 
  align-items: center; 
  flex-wrap: wrap; 
}
.meta-chip-group { 
  display: flex; 
  align-items: center; 
  gap: 8px; 
  flex-wrap: wrap; 
}
.meta-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 7px 10px;
  border-radius: 10px;
  border: 1px solid var(--border-light);
  background: rgba(255,255,255,0.28);
  font-size: 12px;
  font-weight: 700;
  color: var(--text-dark);
}
.meta-chip strong {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  color: var(--text-medium);
}
.meta-chip .chip-value { 
  white-space: nowrap; 
  color: var(--text-dark); 
}
.meta-chip.duration-chip {
  background: rgba(255,255,255,0.18);
  border-style: dashed;
  border-color: rgba(255,255,255,0.3);
}
.modal-head .meta-chip {
  background: rgba(255,255,255,0.16);
  border-color: rgba(255,255,255,0.28);
  color: #fff;
}
.modal-head .meta-chip strong { color: rgba(255,255,255,0.78); }
.modal-head .meta-chip .chip-value { color: #fff; }
.category-chip {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 12px;
  font-weight: 800;
  font-size: 12px;
  letter-spacing: 0.2px;
  background: var(--cat-chip, linear-gradient(135deg, #1ecb7b, #1e90cb));
  color: #fff;
  box-shadow: 0 10px 30px rgba(0,0,0,0.16);
}
.category-chip .chip-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: rgba(255,255,255,0.9);
  box-shadow: 0 0 0 2px rgba(255,255,255,0.28);
}
.category-chip .chip-value { 
  color: #fff; 
  text-transform: capitalize; 
}
.category-chip.strength, .category-chip.strength-training { --cat-chip: linear-gradient(135deg, #ff6b6b, #ff5252); }
.category-chip.cardio { --cat-chip: linear-gradient(135deg, #4ecdc4, #26c6da); }
.category-chip.plyometrics { --cat-chip: linear-gradient(135deg, #ff8a00, #ff6b1c); }
.category-chip.powerlifting { --cat-chip: linear-gradient(135deg, #11c58f, #0ba172); }
.category-chip.stretching, .category-chip.mobility { --cat-chip: linear-gradient(135deg, #ffb3d6, #f793c5); }
.category-chip.strongman { --cat-chip: linear-gradient(135deg, #ff7a18, #ff5714); }
.category-chip.olympic, .category-chip.olympic-weightlifting { --cat-chip: linear-gradient(135deg, #ffd84d, #f5c400); }
.category-chip.bodyweight { --cat-chip: linear-gradient(135deg, #1e90cb, #0fb77a); }
.category-chip.rest { --cat-chip: linear-gradient(135deg, #6b7280, #4b5563); }

.modal-body {
  display: grid;
  grid-template-columns: 56% 44%;
  gap: 20px;
  padding: 20px;
  align-items: start;
}
.modal-media iframe, .modal-media img { 
  width: 100%; 
  height: 100%; 
  min-height: 360px; 
  border-radius: 12px; 
  box-shadow: 0 12px 40px rgba(2,6,23,0.18); 
  border: 1px solid rgba(0,0,0,0.04); 
}

/* Gallery: show two images side-by-side, scaled so both are fully visible */
.modal-media .gallery { 
  display:flex; 
  gap:12px; 
  align-items:center; 
  justify-content:center; 
}
.modal-media .gallery img { 
  flex: 1 1 50%; 
  max-width: 50%; 
  height: 360px; 
  object-fit: contain; 
  border-radius: 12px; 
  box-shadow: 0 12px 40px rgba(2,6,23,0.12); 
  border: 1px solid rgba(0,0,0,0.04); 
}

@media (max-width: 900px) {
  .modal-media .gallery img { height:220px; }
}
.modal-media .media-fallback.large { height:360px; display:flex; align-items:center; justify-content:center; font-size:64px; color:var(--text-medium); background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(255,255,255,0.02)); }

.modal-info { overflow:auto; max-height:60vh; padding-right:6px; }
.long-desc { color: var(--text-medium); font-size:15px; line-height:1.6; }
.resources h4 { margin: 12px 0 8px 0; }
.resources ul { margin: 8px 0 0 18px; }
.resources a { color: var(--secondary-blue); text-decoration: underline; }
.modal-info .instructions,
.modal-info .muscle-section.modal {
  border: 1px solid var(--border-light);
  background: rgba(0,0,0,0.02);
  border-radius: 12px;
  padding: 12px 14px;
  box-shadow: 0 10px 28px rgba(2,6,23,0.04);
}
.modal-info .instructions h4 { margin-top: 0; }
.modal-info .instructions ol { margin-bottom: 0; }
.modal-info .muscle-section.modal { margin-top: 12px; }

/* Ensure ordered list numbers inside instructions are visible and not clipped */
.modal-info .instructions ol {
  list-style-position: outside;
  padding-left: 1.25rem; /* shift content right so numbers are not cut off */
  margin-left: 0;
}

.meta-grid { 
  display:grid; 
  grid-template-columns: repeat(2,1fr); 
  gap:10px; 
  margin-top:16px; 
}
.meta-item { 
  background: var(--bg-light); 
  padding: 10px; 
  border-radius: 10px; 
  font-size: 13px; 
  border: 1px solid var(--border-light); 
  display: flex; 
  flex-direction: column; 
  gap: 6px; 
}
.meta-item strong { 
  text-transform: capitalize; 
  font-size: 12px; 
  color: var(--text-medium); 
}
.meta-item span { 
  color: var(--text-dark); 
  font-weight: 600; 
}

.modal-actions { 
  display: flex; 
  gap: 12px; 
  justify-content: flex-end; 
  padding: 16px 20px; 
  border-top: 1px solid rgba(0,0,0,0.04); 
  background: linear-gradient(180deg, rgba(0,0,0,0.02), transparent); 
}

.btn-outline { 
  background: transparent; 
  border: 1px solid rgba(0,0,0,0.08); 
  padding: 10px 16px; 
  border-radius: 12px; 
  cursor: pointer; 
}

/* Danger / Remove button styles */
.btn-remove {
  /* used on ghost buttons: red text, subtle red hover */
  color: #c53030;
  background: transparent;
  border: 2px solid rgba(197,83,83,0.12);
  box-shadow: none;
}
.btn-remove:hover {
  background: rgba(197,83,83,0.06);
  transform: translateY(-2px);
}

.btn-danger {
  /* primary red variant used for modal Remove action */
  background: linear-gradient(90deg, #ff6b6b, #ee5252);
  color: #fff;
  border: 1px solid #ee5252;
}
.btn-danger:hover { background: linear-gradient(90deg, #e55353, #dd4444); }

.my-plan-section { margin-top: 36px; }
.my-plan-section h2 { margin: 0 0 6px 0; }
.my-plan-header { 
  display: flex; 
  align-items: center; 
  justify-content: space-between; 
  margin-bottom: 12px; 
}

@keyframes modalPop {
  0% { 
    transform: scale(.96); 
    opacity: 0; 
  }
  60% { 
    transform: scale(1.02); 
    opacity: 1; 
  }
  100% { 
    transform: scale(1); 
    opacity: 1; 
  }
}
@keyframes modalFadeIn { 
  from { opacity: 0 } 
  to { opacity: 1 } 
}

/* Responsive fallbacks */
@media (max-width: 900px) {
  .modal-body { grid-template-columns: 1fr; }
  .modal-media iframe, .modal-media img { min-height: 260px; }
  .modal-info { max-height: 48vh; }
}

/* Dark-mode modal styles */
body.theme-dark .workouts-modal-overlay { background: linear-gradient(180deg, rgba(2,6,12,0.6), rgba(2,6,12,0.72)); }
body.theme-dark .workouts-modal {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid rgba(255,255,255,0.04);
  box-shadow: 0 40px 120px rgba(2,6,12,0.8);
}
body.theme-dark .modal-head { 
  background: linear-gradient(90deg, rgba(30,203,123,0.12), rgba(30,144,203,0.10)); 
  color: var(--calendar-text); 
}
body.theme-dark .modal-close { 
  background: rgba(255,255,255,0.03); 
  color: var(--calendar-text); 
}
body.theme-dark .modal-media iframe, body.theme-dark .modal-media img { 
  border: 1px solid rgba(255,255,255,0.04); 
  box-shadow: 0 12px 40px rgba(0,0,0,0.6); 
}
body.theme-dark .meta-item { 
  background: rgba(255,255,255,0.02); 
  border: 1px solid rgba(255,255,255,0.04); 
}
body.theme-dark .meta-chip { 
  background: rgba(255,255,255,0.03); 
  border-color: rgba(255,255,255,0.06); 
  color: var(--calendar-text); 
}
body.theme-dark .meta-chip strong { color: var(--calendar-muted); }
body.theme-dark .modal-head .meta-chip { 
  background: rgba(255,255,255,0.08); 
  border-color: rgba(255,255,255,0.16); 
}
body.theme-dark .modal-info .instructions,
body.theme-dark .modal-info .muscle-section.modal {
  background: rgba(255,255,255,0.03);
  border-color: rgba(255,255,255,0.06);
  box-shadow: 0 10px 28px rgba(0,0,0,0.45);
}
body.theme-dark .category-chip { box-shadow: 0 10px 30px rgba(0,0,0,0.4); }
body.theme-dark .category-chip .chip-dot { box-shadow: 0 0 0 2px rgba(255,255,255,0.18); }


/* Saved library layout */
.saved-library-page {
  padding: 32px 20px 48px;
  max-width: var(--workouts-max-width);
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 18px;
}
.saved-hero { 
  display: flex; 
  align-items: flex-start; 
  justify-content: space-between; 
  gap: 20px; 
  flex-wrap: wrap; 
}
.saved-controls { 
  display: flex; 
  gap: 10px; 
  align-items: center; 
  flex-wrap: wrap; 
}
.saved-count-pill {
  padding: 8px 10px;
  background: rgba(30,203,123,0.12);
  color: var(--text-dark);
  border-radius: 10px;
  font-weight: 800;
  border: 1px solid rgba(30,144,203,0.18);
}
.saved-empty {
  border: 1px dashed var(--border-light);
  border-radius: 14px;
  padding: 28px;
  text-align: center;
  background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(255,255,255,0.02));
  display: grid;
  gap: 8px;
  place-items: center;
}
.saved-empty-illustration { 
  width: 88px; 
  height: 88px; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
}
.saved-empty-sub { 
  margin: 0; 
  color: var(--text-medium); 
}
.saved-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 16px;
}
.saved-card {
  border: 1px solid var(--border-light);
  border-radius: 14px;
  background: var(--calendar-surface);
  box-shadow: 0 12px 40px rgba(2,6,23,0.06);
  padding: 16px;
  display: grid;
  gap: 12px;
}
.saved-card-header { 
  display: flex; 
  align-items: flex-start; 
  justify-content: space-between; 
  gap: 12px; 
}
.saved-card-header h3 { margin: 2px 0 0 0; }
.saved-chip-row { 
  display: flex; 
  gap: 8px; 
  align-items: center; 
  flex-wrap: wrap; 
  justify-content: flex-end; 
}
.saved-card-body { 
  display: flex; 
  gap: 12px; 
  align-items:center; 
}
.saved-thumb {
  width: 96px;
  height: 96px;
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid var(--border-light);
  background: linear-gradient(135deg, rgba(0,0,0,0.03), rgba(255,255,255,0.04));
  display:flex; align-items:center; justify-content:center;
}
.saved-thumb img { 
  width: 100%; 
  height: 100%; 
  object-fit: cover; 
}
.saved-thumb.fallback { 
  font-size: 36px; 
  color: var(--text-medium); 
  font-weight: 800; 
}
.saved-text { 
  display: grid; 
  gap: 8px; 
}
.eyebrow {
  text-transform: uppercase;
  letter-spacing: 0.4px;
  font-weight: 800;
  font-size: 12px;
  margin: 0 0 4px 0;
  color: var(--text-medium);
}
.saved-desc { 
  margin: 0; 
  color: var(--text-medium); 
}
.saved-instructions { 
  margin: 0; 
  font-size: 13px; 
  color: var(--text-dark); 
}
.saved-card-actions { 
  display: flex; 
  gap: 10px; 
  justify-content: flex-end; 
  flex-wrap: wrap; 
}
.saved-card .btn-outline { 
  border: 1px solid var(--border-light); 
  background: transparent; 
}
.saved-card .btn-ghost.danger { 
  background: linear-gradient(135deg,#ff6b6b,#ee5252); 
  color: #fff; 
}

body.theme-dark .saved-card {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-color: rgba(255,255,255,0.05);
  box-shadow: 0 18px 48px rgba(0,0,0,0.6);
}
body.theme-dark .saved-empty { 
  border-color: rgba(255,255,255,0.06); 
  background: rgba(255,255,255,0.02); 
}
body.theme-dark .saved-desc { color: var(--calendar-muted); }
body.theme-dark .saved-count-pill { 
  background: rgba(30,203,123,0.14); 
  color: var(--calendar-text); 
  border-color: rgba(30,144,203,0.22); 
}

/* Responsive */
@media (max-width: 1024px) {
  .workouts-grid { grid-template-columns: repeat(2,1fr); }
  .hero-right { align-items:flex-start; }
}
@media (max-width: 640px) {
  .workouts-hero { 
    flex-direction:column; 
    align-items:flex-start; 
  }
  .workouts-grid { grid-template-columns: 1fr; }
  .modal-body { grid-template-columns: 1fr; }
}

/* Dark-mode tweaks */
body.theme-dark .workouts-page { color: var(--calendar-text); }
body.theme-dark .search-input, body.theme-dark .filter-btn { 
  background: rgba(255,255,255,0.02); 
  border: 1px solid rgba(255,255,255,0.04); 
  color:var(--calendar-text); 
}
body.theme-dark .workout-card { 
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); 
  border: 1px solid rgba(255,255,255,0.04); 
  box-shadow: 0 24px 80px rgba(2,6,12,0.6); 
}
body.theme-dark .card-desc, body.theme-dark .hero-sub { color: var(--calendar-muted); }
body.theme-dark .card-footer { border-top-color: rgba(255,255,255,0.03); }
body.theme-dark .workouts-modal { 
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); 
  border: 1px solid rgba(255,255,255,0.04); 
}
body.theme-dark .modal-body { color: var(--calendar-text); }